var ce=Object.defineProperty;var ae=(n,l,e)=>l in n?ce(n,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[l]=e;var s=(n,l,e)=>ae(n,typeof l!="symbol"?l+"":l,e);(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function M(n,l,e){return Math.min(Math.max(n,l),e)}var f=(n=>(n[n.PX=0]="PX",n[n.PCT=1]="PCT",n[n.FR=2]="FR",n))(f||{});const ue={0:"px",1:"%",2:"fr"};class re{constructor(){s(this,"x");s(this,"u")}}function x(n,l){const e=new re;return e.x=n,e.u=l,e}function _e(n){return`${n.x}${ue[n.u]}`}class de{constructor(){s(this,"type");s(this,"object");s(this,"key");s(this,"call_get");s(this,"call_set")}get(){return this.type===0?this.object[this.key]:this.call_get()}set(l){this.type===0?this.object[this.key]=l:this.call_set(l)}}function p(n,l){const e=new de;return e.type=0,e.object=n,e.key=l,e}function g(n,l){if(!n)return null;const e=document.createElement("span");return e.className="gui_label",e.innerHTML=n,l.append(e),e}function w(){const n=document.createElement("div");return n.className="gui_container",n}function L(n,l,e,t,i){const o=document.createElement("input");return o.className="gui_input",o.type=n,o.step=e.toString(),o.min=t.toString(),o.max=i.toString(),o.value=l.toString(),o}class d{constructor(){s(this,"children",[]);s(this,"ref_el")}container(){return this.ref_el}render(){}mount(){}static mount(){}update(){}}class q extends d{constructor(){super(...arguments);s(this,"id");s(this,"title");s(this,"grid_x");s(this,"grid_y");s(this,"layout");s(this,"window_parent");s(this,"window_children")}grid_str(e){let t="";for(let i=0;i<e.length;i+=1){const o=e[i];t+=_e(o),i<e.length-1&&(t+=" ")}return t}layout_str(){let e="";const t=this.grid_x.length,i=this.grid_y.length,o=t*i;for(let c=0;c<o;c+=t){let a="";for(let u=c;u<c+t;u+=1){const r=this.layout[u];a+=`w${r}`,u<c+t-1&&(a+=" ")}e+=`"${a}"
`}return e}render(){const e=document.createElement("div");this.window_parent?e.className="gui_window":e.className="gui_window_root",this.window_children.length?(e.style.display="grid",e.style.gridTemplateColumns=this.grid_str(this.grid_x),e.style.gridTemplateRows=this.grid_str(this.grid_y),e.style.gridTemplateAreas=this.layout_str()):e.style.gridArea=`w${this.id}`,this.ref_el=e}}class I extends d{constructor(){super(...arguments);s(this,"title");s(this,"is_collapsed");s(this,"container_el")}container(){return this.container_el}render(){const e=document.createElement("div");e.className="gui_collapsing_header"+(this.is_collapsed?" gui_is_collapsed":"");const t=document.createElement("div");t.className="gui_title",t.innerHTML=this.title,e.append(t),t.onclick=(function(){this.is_collapsed?(this.is_collapsed=!1,e.classList.remove("gui_is_collapsed")):(this.is_collapsed=!0,e.classList.add("gui_is_collapsed"))}).bind(this);const i=w();e.append(i),this.ref_el=e,this.container_el=i}}class he extends d{constructor(){super(...arguments);s(this,"condition")}render(){const e=document.createElement("div");e.className="gui_group",this.condition()?e.style.display="block":e.style.display="none",this.ref_el=e}update(){this.condition()?this.ref_el.style.display="block":this.ref_el.style.display="none"}}class X extends d{constructor(){super(...arguments);s(this,"value")}render(){const e=document.createElement("div");e.className="gui_text",e.innerHTML=this.value,this.ref_el=e}}class V extends d{constructor(){super(...arguments);s(this,"label");s(this,"value");s(this,"onchange");s(this,"input_el")}render(){const e=document.createElement("div");e.className="gui_bool";const t=document.createElement("div");t.className="gui_checkbox_group_option"+(this.value.get()?" gui_selected":""),t.innerHTML=this.label,e.append(t),t.onclick=(function(){this.value.get()?(this.value.set(!1),t.classList.remove("gui_selected")):(this.value.set(!0),t.classList.add("gui_selected")),this.onchange(this.value.get())}).bind(this),this.ref_el=e,this.input_el=t}update(){this.value.get()?this.input_el.classList.add("gui_selected"):this.input_el.classList.remove("gui_selected")}}class G extends d{constructor(){super(...arguments);s(this,"label");s(this,"value");s(this,"step");s(this,"min");s(this,"max");s(this,"onchange");s(this,"input_el")}render(){const e=document.createElement("div");e.className="gui_input_number",g(this.label,e);const t=L("number",this.value.get(),this.step,this.min,this.max);e.append(t),t.onchange=(function(){const i=M(parseFloat(t.value),this.min,this.max);this.value.set(i),t.value=i.toString(),this.onchange(i)}).bind(this),this.ref_el=e,this.input_el=t}update(){document.activeElement!=this.input_el&&(this.input_el.value=this.value.get().toString())}}class W extends d{constructor(){super(...arguments);s(this,"label");s(this,"value");s(this,"step");s(this,"min");s(this,"max");s(this,"container_el");s(this,"onchange");s(this,"input_el")}render(){const e=document.createElement("div");e.className="gui_slider_number",g(this.label,e);const t=w();t.className="gui_input_range_container",e.append(t);const i=L("range",this.value.get(),this.step,this.min,this.max);i.className="gui_input_range",t.dataset.content=i.value,t.append(i),i.onchange=(function(){const o=M(parseFloat(i.value),this.min,this.max);this.value.set(o),t.dataset.content=i.value,this.onchange(o)}).bind(this),i.onmousemove=function(){t.dataset.content=i.value},this.ref_el=e,this.container_el=t,this.input_el=i}update(){document.activeElement!=this.input_el&&(this.input_el.value=this.value.get().toString(),this.container_el.dataset.content=this.input_el.value)}}class K extends d{constructor(){super(...arguments);s(this,"label");s(this,"value");s(this,"step");s(this,"min");s(this,"max");s(this,"size");s(this,"onchange");s(this,"input_els")}render(){const e=document.createElement("div");e.className="gui_input_vec",e.style.setProperty("--size",this.size.toString()),g(this.label,e);const t=w();e.append(t);const i=[];for(let o=0;o<this.value.length;o+=1){const c=L("number",this.value[o],this.step,this.min,this.max);t.append(c),c.onchange=(function(){const a=M(parseFloat(c.value),this.min,this.max);this.value[o]=a,c.value=a.toString(),this.onchange(this.value)}).bind(this),i.push(c)}this.ref_el=e,this.input_els=i}update(){for(let e=0;e<this.value.length;e+=1){const t=this.input_els[e];document.activeElement!=t&&(t.value=this.value[e].toString())}}}var T=(n=>(n[n.R_0_1=0]="R_0_1",n[n.R_0_255=1]="R_0_255",n))(T||{});class Y extends d{constructor(){super(...arguments);s(this,"label");s(this,"value");s(this,"mode");s(this,"onchange");s(this,"input_el");s(this,"range_container_el");s(this,"range_el")}to_hex(e,t,i){const o=this.mode===0?255:1,c=Math.round(e*o).toString(16).padStart(2,"0"),a=Math.round(t*o).toString(16).padStart(2,"0"),u=Math.round(i*o).toString(16).padStart(2,"0");return`#${c}${a}${u}`}from_hex(e){const t=e.replace(/^#/,""),i=this.mode===0?255:1,o=parseInt(t.substring(0,2),16)/i,c=parseInt(t.substring(2,4),16)/i,a=parseInt(t.substring(4,6),16)/i;return[o,c,a]}render(){const e=document.createElement("div");e.className="gui_color_edit"+(this.value.length===4?" gui_rgba":""),g(this.label,e);const t=w();e.append(t);const i=document.createElement("input");if(i.className="gui_input_color",i.type="color",i.value=this.to_hex(this.value[0],this.value[1],this.value[2]),t.append(i),i.onchange=(function(){const o=this.from_hex(i.value);this.value[0]=o[0],this.value[1]=o[1],this.value[2]=o[2],this.onchange(this.value)}).bind(this),this.value.length==4){const o=document.createElement("div");o.className="gui_input_range_container",t.append(o);const c=L("range",this.value[3],.01,0,1);c.className="gui_input_range",o.dataset.content=c.value,o.append(c),c.onchange=(function(){this.value[3]=parseFloat(c.value),o.dataset.content=c.value,this.onchange(this.value)}).bind(this),c.onmousemove=function(){o.dataset.content=c.value},this.range_el=c,this.range_container_el=o}this.ref_el=e,this.input_el=i}update(){document.activeElement!=this.input_el&&(this.input_el.value=this.to_hex(this.value[0],this.value[1],this.value[2])),this.range_container_el&&this.range_el&&document.activeElement!=this.range_el&&(this.range_el.value=this.value[3].toString(),this.range_container_el.dataset.content=this.range_el.value)}}class J extends d{constructor(){super(...arguments);s(this,"label");s(this,"value");s(this,"onchange");s(this,"input_el")}render(){const e=document.createElement("div");e.className="gui_input_text",g(this.label,e);const t=document.createElement("input");t.className="gui_input",t.type="text",t.value=this.value.get().toString(),e.append(t),t.onchange=(function(){this.value.set(t.value),this.onchange(t.value)}).bind(this),this.ref_el=e,this.input_el=t}update(){document.activeElement!=this.input_el&&(this.input_el.value=this.value.get().toString())}}class Q extends d{constructor(){super(...arguments);s(this,"label");s(this,"value");s(this,"keys");s(this,"values");s(this,"onchange");s(this,"option_els")}render(){const e=document.createElement("div");e.className="gui_radio_group",g(this.label,e);const t=w();e.append(t);const i=[],o=this.value.get();for(let c=0;c<this.keys.length;c+=1){const a=this.keys[c],u=this.values[c],r=document.createElement("div");r.className="gui_radio_group_option"+(u===o?" gui_selected":""),r.innerHTML=a,t.append(r),r.onclick=(function(){this.value.set(u);for(const A of this.option_els)A.classList.remove("gui_selected");r.classList.add("gui_selected"),this.onchange(u)}).bind(this),i.push(r)}this.ref_el=e,this.option_els=i}update(){const e=this.value.get();for(let t=0;t<this.option_els.length;t+=1){const i=this.option_els[t];this.values[t]===e?i.classList.add("gui_selected"):i.classList.remove("gui_selected")}}}class Z extends d{constructor(){super(...arguments);s(this,"label");s(this,"value");s(this,"keys");s(this,"values");s(this,"onchange");s(this,"option_els")}render(){const e=document.createElement("div");e.className="gui_checkbox_group",g(this.label,e);const t=w();e.append(t);const i=[],o=this.value.get();for(let c=0;c<this.keys.length;c+=1){const a=this.keys[c],u=this.values[c],r=document.createElement("div");r.className="gui_checkbox_group_option"+(o.indexOf(u)>-1?" gui_selected":""),r.innerHTML=a,t.append(r),r.onclick=(function(){r.classList.contains("gui_selected")?(o.splice(o.indexOf(u),1),r.classList.remove("gui_selected")):(o.push(u),r.classList.add("gui_selected")),this.onchange(this.value.get())}).bind(this),i.push(r)}this.ref_el=e,this.option_els=i}update(){const e=this.value.get();for(let t=0;t<this.option_els.length;t+=1){const i=this.option_els[t];e.indexOf(this.values[t])>-1?i.classList.add("gui_selected"):i.classList.remove("gui_selected")}}}class D extends d{constructor(){super(...arguments);s(this,"label");s(this,"value");s(this,"keys");s(this,"values");s(this,"onchange");s(this,"button_el");s(this,"option_els")}render(){const e=document.createElement("div");e.className="gui_select",g(this.label,e);const t=document.createElement("div");t.className="gui_select",e.append(t),t.onclick=function(u){u.stopPropagation()};const i=document.createElement("div");i.className="gui_select_button",i.innerHTML="Select",t.append(i),i.onclick=function(){i.classList.contains("gui_open")?i.classList.remove("gui_open"):i.classList.add("gui_open")};const o=document.createElement("div");o.className="gui_select_container",t.append(o);const c=[],a=this.value.get();for(let u=0;u<this.keys.length;u+=1){const r=this.keys[u];this.values[u]===a&&(i.innerHTML=r);const v=document.createElement("div");v.className="gui_select_option",v.innerHTML=r,v.dataset.value=u.toString(),o.append(v),v.onclick=(function(){const $=this.values[parseInt(v.dataset.value||"")];this.value.set($),i.innerHTML=r,i.classList.remove("gui_open"),this.onchange($)}).bind(this),c.push(v)}this.ref_el=e,this.button_el=i,this.option_els=c}static mount(){const e=document.body.querySelector(".gui_window_root");e&&e.addEventListener("click",function(){const t=document.body.querySelector(".gui_select_button.gui_open");t&&t.classList.remove("gui_open")})}update(){const e=this.value.get();for(let t=0;t<this.option_els.length;t+=1)if(this.values[t]===e){this.button_el.innerHTML=this.keys[t];return}}}class U extends d{constructor(){super(...arguments);s(this,"label");s(this,"onclick")}render(){const e=document.createElement("div");e.className="gui_button";const t=document.createElement("button");t.innerHTML=this.label,t.onclick=this.onclick,e.append(t),this.ref_el=e}}class ee extends d{constructor(){super(...arguments);s(this,"auto_resize");s(this,"canvas_el")}render(){const e=document.createElement("div");e.className="gui_canvas";const t=document.createElement("canvas");e.append(t),this.auto_resize&&window.addEventListener("resize",function(){var i,o;t.width=((i=t.parentElement)==null?void 0:i.clientWidth)||0,t.height=((o=t.parentElement)==null?void 0:o.clientHeight)||0}),this.ref_el=e,this.canvas_el=t}mount(){var e,t;this.auto_resize&&(this.canvas_el.width=((e=this.canvas_el.parentElement)==null?void 0:e.clientWidth)||0,this.canvas_el.height=((t=this.canvas_el.parentElement)==null?void 0:t.clientHeight)||0)}}const pe=[q,I,X,V,G,W,K,Y,J,Q,Z,D,U,ee];let B=0;function H(n,l=""){const e=new q;return e.id=B,e.title=l,e.grid_x=[],e.grid_y=[],e.layout=[],e.window_parent=n,e.window_children=[],n&&(n.children.push(e),n.window_children.push(e)),B+=1,e}function ge(n,l,e){n.grid_x=l,n.grid_y=e}function me(n,l){const e=[];for(const t of l)e.push(t.id);n.layout=e}function N(n,l,e=!1){const t=new I;return t.title=l,t.is_collapsed=e,n.children.push(t),t}function O(n,l=()=>!0){const e=new he;return e.condition=l,n.children.push(e),e}function P(n,l){const e=new X;return e.value=l,n.children.push(e),e}function ve(n,l,e,t=()=>{}){const i=new V;return i.label=l,i.value=e,i.onchange=t,n.children.push(i),i}function fe(n,l,e,t,i,o,c=()=>{}){const a=new G;return a.label=l,a.value=e,a.step=t,a.min=i,a.max=o,a.onchange=c,n.children.push(a),a}function be(n,l,e,t,i,o,c=()=>{}){const a=new W;return a.label=l,a.value=e,a.step=t,a.min=i,a.max=o,a.onchange=c,n.children.push(a),a}function E(n,l,e,t,i,o,c,a=()=>{}){const u=new K;return u.label=l,u.value=e,u.step=t,u.min=i,u.max=o,u.size=c,u.onchange=a,n.children.push(u),u}function te(n,l,e,t,i=()=>{}){const o=new Y;return o.label=l,o.value=t,o.mode=e,o.onchange=i,n.children.push(o),o}function ye(n,l,e,t=()=>{}){const i=new J;return i.label=l,i.value=e,i.onchange=t,n.children.push(i),i}function xe(n,l,e,t,i,o=()=>{}){const c=new Q;return c.label=l,c.value=e,c.keys=t,c.values=i,c.onchange=o,n.children.push(c),c}function we(n,l,e,t,i,o=()=>{}){const c=new Z;return c.label=l,c.value=e,c.keys=t,c.values=i,c.onchange=o,n.children.push(c),c}function ne(n,l,e,t,i,o=()=>{}){const c=new D;return c.label=l,c.value=e,c.keys=t,c.values=i,c.onchange=o,n.children.push(c),c}function Ee(n,l,e){const t=new U;return t.label=l,t.onclick=e,n.children.push(t),t}function Ne(n,l=!0){const e=new ee;return e.auto_resize=l,n.children.push(e),e}function ie(n,l){n.render(),l.append(n.ref_el),n.mount();for(const e of n.children)ie(e,n.container())}function se(n,l,e=!0){if(ie(n,l),!!e)for(const t of pe)t.mount()}function R(n){if(!(n instanceof I&&n.is_collapsed)){n.update();for(const l of n.children)R(l)}}const _={input_number:0,slider_number:5,input_vec2:[1,2],input_vec3:[1,2,3],input_vec4:[1,2,3,4],input_mat2:[1,0,0,1],input_mat3:[1,0,0,0,1,0,0,0,1],input_mat4:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],color_edit3:[.4,.2,.2],color_edit4:[.2,.4,.6,.5],radio:"option_a",checkbox:["option_a"],select:0,input_text:"Input Text",bool:!1,cond_select:0},y=H(null);ge(y,[x(300,f.PX),x(1,f.FR),x(300,f.PX)],[x(1,f.FR),x(1,f.FR),x(1,f.FR)]);const h=H(y),b=H(y);me(y,[h,b,b,h,b,b,h,b,b]);const ke=Ne(b);se(y,document.body);const S=ke.canvas_el,j=S.getContext("2d"),m=N(h,"Numerical Inputs",!1);fe(m,"Input Number",p(_,"input_number"),1,0,10,function(n){console.log(n)});be(m,"Slider Number",p(_,"slider_number"),1,0,10,function(n){console.log(n)});E(m,"Input Vec2",_.input_vec2,1,0,10,2,function(n){console.log(n)});E(m,"Input Vec3",_.input_vec3,1,0,10,3,function(n){console.log(n)});E(m,"Input Vec4",_.input_vec4,1,0,10,4,function(n){console.log(n)});E(m,"Input Mat2",_.input_mat2,1,0,10,2,function(n){console.log(n)});E(m,"Input Mat3",_.input_mat3,1,0,10,3,function(n){console.log(n)});E(m,"Input Mat4",_.input_mat4,1,0,10,4,function(n){console.log(n)});const C=N(h,"Color Edits",!1);P(C,"Colors");te(C,"Color Edit3",T.R_0_1,_.color_edit3,function(n){console.log(n)});te(C,"Color Edit4",T.R_0_1,_.color_edit4,function(n){console.log(n)});const F=N(h,"Combos",!1);xe(F,"Radio",p(_,"radio"),["Options A","Options B","Options C"],["option_a","option_b","option_c"],function(n){console.log(n)});we(F,"Checkbox",p(_,"checkbox"),["Options A","Options B","Options C"],["option_a","option_b","option_c"],function(n){console.log(n)});ne(F,"Select",p(_,"select"),["Options A","Options B","Options C"],[0,1,2],function(n){console.log(n)});const z=N(h,"Other Inputs",!1);ve(z,"Bool",p(_,"bool"),function(n){console.log(n)});ye(z,"Input Text",p(_,"input_text"),function(n){console.log(n)});Ee(z,"Button",function(){console.log("Button onclick")});const Le=N(h,"Conditional Rendering",!1),k=O(Le),oe=ne(k,"Select",p(_,"cond_select"),["Options A","Options B"],[0,1],function(){R(k)}),Se=O(k,function(){return oe.value.get()===0});P(Se,"Group 1 content");const Me=O(k,function(){return oe.value.get()===1});P(Me,"Group 2 content");se(h,y.container(),!1);setInterval(()=>{R(y)},1e3/30);function le(){j.fillStyle="#b2c9db",j.fillRect(0,0,S.width,S.height),requestAnimationFrame(le)}le();
