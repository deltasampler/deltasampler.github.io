var B=Object.defineProperty;var D=(t,n,o)=>n in t?B(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o;var _=(t,n,o)=>D(t,typeof n!="symbol"?n+"":n,o);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}})();const O=Float32Array;function l(t=0,n){const o=new O(2);return o[0]=t,o[1]=n??t,o}function G(t,n,o){return t[0]=n,t[1]=o,t}function A(t,n,o){const s=new O(2);return s[0]=t[0]+n[0]*o,s[1]=t[1]+n[1]*o,s}function F(t,n){const o=t[0]-n[0],s=t[1]-n[1];let e=o*o+s*s;e>0&&(e=1/Math.sqrt(e));const i=new O(2);return i[0]=o*e,i[1]=s*e,i}function N(t,n){return Math.hypot(t[0]-n[0],t[1]-n[1])}function K(t,n){const o=t[0]-n[0],s=t[1]-n[1];return o*o+s*s}function P(t=0,n,o){const s=new O(3);return s[0]=t,s[1]=n??t,s[2]=o??t,s}let c;function Q(t){return c=t.getContext("2d")}let q=0,L=P(),X=P(),H=1;function U(t,n,o){return`rgb(${t},${n},${o})`}function S(t){return`rgb(${t[0]},${t[1]},${t[2]})`}function k(t){q=0,L[0]=t[0],L[1]=t[1],L[2]=t[2]}function I(t,n){q=1,X[0]=t[0],X[1]=t[1],X[2]=t[2],H=n}function z(){q===0?(c.fillStyle=S(L),c.fill()):(c.strokeStyle=S(X),c.lineWidth=H,c.stroke())}function V(t,n,o){c.fillStyle=U(t,n,o),c.fillRect(0,0,c.canvas.width,c.canvas.height)}function Z(){c.resetTransform()}function tt(){c.translate(c.canvas.width/2,c.canvas.height/2),c.scale(1,-1)}function nt(t,n,o,s){c.beginPath(),c.moveTo(t,n),c.lineTo(o,s),c.closePath(),z()}function C(t,n){nt(t[0],t[1],n[0],n[1])}function ot(t,n,o,s,e){c.beginPath(),c.moveTo(t,n),c.lineTo(o,s),c.closePath(),c.strokeStyle=S(L),c.lineWidth=e*2,c.lineJoin="round",c.stroke()}function st(t,n,o){ot(t[0],t[1],n[0],n[1],o)}function et(t,n,o){c.beginPath(),c.arc(t,n,o,0,Math.PI*2),c.closePath(),z()}function J(t,n){et(t[0],t[1],n)}function it(t,n,o,s){c.beginPath(),c.rect(t-o/2,n-s/2,o,s),c.closePath(),z()}function ct(t,n){it(t[0],t[1],n[0],n[1])}function rt(t,n,o,s,e){const i=c.getTransform();c.beginPath(),c.translate(t,n),c.rotate(e),c.rect(-o/2,-s/2,o,s),c.closePath(),c.setTransform(i),z()}function lt(t,n,o){rt(t[0],t[1],n[0],n[1],o)}function ut(t,n,o,s){if(t.length<3)return;const e=c.getTransform(),i=t[0];c.beginPath(),c.translate(n,o),c.rotate(s),c.moveTo(i[0],i[1]);for(let r=1;r<t.length;r+=1){const u=t[r];c.lineTo(u[0],u[1])}c.closePath(),c.setTransform(e),z()}function at(t,n,o){ut(t,n[0],n[1],o)}const p={keys:{},buttons:{},kb_key_down:function(){},kb_key_up:function(){},m_move:function(){},m_button_down:function(){},m_button_up:function(){},m_wheel_scroll:function(){}};function dt(t){p.m_move=t}function ht(){addEventListener("keydown",function(t){p.keys[t.code]=0,p.kb_key_down({code:t.code,alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey})}),addEventListener("keyup",function(t){p.keys[t.code]=1,p.kb_key_up({code:t.code,alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey})}),addEventListener("mousemove",function(t){p.m_move({x:t.offsetX,y:t.offsetY,xd:t.movementX,yd:t.movementY,button:t.button,alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey,target:t.target})}),addEventListener("mousedown",function(t){p.buttons[t.button]=0,p.m_button_down({x:t.offsetX,y:t.offsetY,xd:t.movementX,yd:t.movementY,button:t.button,alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey,target:t.target})}),addEventListener("mouseup",function(t){p.buttons[t.button]=1,p.m_button_up({x:t.offsetX,y:t.offsetY,xd:t.movementX,yd:t.movementY,button:t.button,alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey,target:t.target})}),addEventListener("wheel",function(t){p.m_wheel_scroll({xd:Math.sign(t.deltaX),yd:Math.sign(t.deltaY)})})}const Y=Math.abs;function W(t,n,o){return Math.min(Math.max(t,n),o)}function ft(t,n,o){return K(t,o)<=n*n}function _t(t,n,o,s){const e=n[0]-t[0],i=n[1]-t[1],r=s[0]-t[0],u=s[1]-t[1],a=(e*r+i*u)/(e*e+i*i),d=W(a,0,1),h=l(t[0]+e*d,t[1]+i*d);return K(h,s)<=o*o}function yt(t,n,o){const[s,e]=t,[i,r]=o,u=n[0]/2,a=n[1]/2;return i>=s-u&&i<=s+u&&r>=e-a&&r<=e+a}function pt(t,n,o,s){const e=s[0]-t[0],i=s[1]-t[1],r=Math.cos(-o),u=Math.sin(-o),a=e*r-i*u,d=e*u+i*r,h=n[0]/2,f=n[1]/2;return Math.abs(a)<=h&&Math.abs(d)<=f}function mt(t,n){const[o,s]=n;let e=0;for(let i=0;i<t.length;i+=1){const[r,u]=t[i],[a,d]=t[(i+1)%t.length],h=(a-r)*(s-u)-(d-u)*(o-r),f=Math.sign(h);if(f!==0){if(e===0)e=f;else if(f!==e)return!1}}return!0}function gt(t,n,o,s){const[e,i]=n,[r,u]=s,a=Math.cos(-o),d=Math.sin(-o),h=(r-e)*a-(u-i)*d,f=(r-e)*d+(u-i)*a;return mt(t,l(h,f))}function bt(t,n,o){const s=F(o,t);return A(t,s,n)}function T(t,n,o){const s=n[0]-t[0],e=n[1]-t[1],i=o[0]-t[0],r=o[1]-t[1],u=(s*i+e*r)/(s*s+e*e),a=W(u,0,1);return l(t[0]+s*a,t[1]+e*a)}function xt(t,n,o,s){const e=n[0]-t[0],i=n[1]-t[1],r=s[0]-t[0],u=s[1]-t[1],a=(e*r+i*u)/(e*e+i*i),d=W(a,0,1),h=l(t[0]+e*d,t[1]+i*d),f=F(s,h);return A(h,f,o)}function R(t,n,o){const[s,e]=t,[i,r]=o,u=n[0]/2,a=n[1]/2,d=s-u,h=e-a,f=s+u,g=e+a,b=Y(d-i)<Y(f-i)?d:f,x=Y(h-r)<Y(g-r)?h:g,w=T(l(b,h),l(b,g),o),M=T(l(d,x),l(f,x),o);return K(w,o)<K(M,o)?w:M}function wt(t,n,o,s){const[e,i]=t,[r,u]=s,a=Math.cos(-o),d=Math.sin(-o),h=(r-e)*a-(u-i)*d,f=(r-e)*d+(u-i)*a,g=Math.cos(o),b=Math.sin(o),[x,w]=R(l(),n,l(h,f)),M=x*g-w*b+e,$=x*b+w*g+i;return l(M,$)}function Mt(t,n){let o;for(let s=0;s<t.length;s+=1){const e=t[s],i=t[(s+1)%t.length],r=T(e,i,n);(!o||K(n,r)<K(n,o))&&(o=r)}return o}function Pt(t,n,o,s){const[e,i]=n,[r,u]=s,a=Math.cos(-o),d=Math.sin(-o),h=(r-e)*a-(u-i)*d,f=(r-e)*d+(u-i)*a,g=Math.cos(o),b=Math.sin(o),[x,w]=Mt(t,l(h,f)),M=x*g-w*b+e,$=x*b+w*g+i;return l(M,$)}document.body.style.height="100vh";document.body.style.margin="0px";document.body.style.overflow="hidden";const y=document.createElement("canvas");document.body.append(y);y.width=y.parentElement.clientWidth;y.height=y.parentElement.clientHeight;addEventListener("resize",function(){y.width=y.parentElement.clientWidth,y.height=y.parentElement.clientHeight});const E=l();ht();dt(function(t){t.target===y&&G(E,t.x-y.width/2,-t.y+y.height/2)});Q(y);class Kt{constructor(n,o){_(this,"position");_(this,"radius");this.position=n,this.radius=o}render(n){k(n),J(this.position,this.radius)}point_inside(n){return ft(this.position,this.radius,n)}closest_point(n){return bt(this.position,this.radius,n)}rotate(n){}}class kt{constructor(n,o){_(this,"position");_(this,"size");this.position=n,this.size=o}render(n){k(n),ct(this.position,this.size)}point_inside(n){return yt(this.position,this.size,n)}closest_point(n){return R(this.position,this.size,n)}rotate(n){}}class Et{constructor(n,o,s){_(this,"position");_(this,"size");_(this,"angle");this.position=n,this.size=o,this.angle=s}render(n){k(n),lt(this.position,this.size,this.angle)}point_inside(n){return pt(this.position,this.size,this.angle,n)}closest_point(n){return wt(this.position,this.size,this.angle,n)}rotate(n){this.angle+=n}}class Lt{constructor(n,o,s){_(this,"start");_(this,"end");_(this,"radius");this.start=n,this.end=o,this.radius=s}render(n){k(n),st(this.start,this.end,this.radius)}point_inside(n){return _t(this.start,this.end,this.radius,n)}closest_point(n){return xt(this.start,this.end,this.radius,n)}rotate(n){}}class Tt{constructor(n,o){_(this,"start");_(this,"end");this.start=n,this.end=o}render(n){I(n,1),C(this.start,this.end)}point_inside(n){return N(T(this.start,this.end,n),n)<=1}closest_point(n){return T(this.start,this.end,n)}rotate(n){}}function zt(t){let n=0,o=0,s=0;for(let e=0;e<t.length;e++){const i=t[e],r=t[(e+1)%t.length],u=i[0],a=i[1],d=r[0],h=r[1],f=u*h-d*a;n+=(u+d)*f,o+=(a+h)*f,s+=f}s*=.5,n/=6*s,o/=6*s;for(let e=0;e<t.length;e++){const i=t[e];i[0]-=n,i[1]-=o}return l(n,o)}class j{constructor(n,o,s){_(this,"points");_(this,"center");_(this,"position");_(this,"angle");this.points=n,this.center=zt(this.points),this.position=o,this.angle=s}render(n){k(n),at(this.points,this.position,this.angle)}point_inside(n){return gt(this.points,this.position,this.angle,n)}closest_point(n){return Pt(this.points,this.position,this.angle,n)}rotate(n){this.angle+=n}}const m=[];m.push(new Kt(l(0),50));m.push(new kt(l(200,10),l(120)));m.push(new Et(l(-200,10),l(80,160),90));m.push(new Lt(l(-200,200),l(200,400),30));m.push(new Tt(l(-200,-200),l(100,-400)));m.push(new j([l(-100,-86.6),l(100,-86.6),l(0,86.6)],l(200,-200),0));m.push(new j([l(100,0),l(50,86.6),l(-50,86.6),l(-100,0),l(-50,-86.6),l(50,-86.6)],l(-500,-200),0));function Yt(){for(const t of m)t.rotate(.001)}function Xt(){Z(),V(184,242,255),tt();for(const t of m)t.point_inside(E)?t.render(P(227,227,227)):t.render(P(209,209,209));for(const t of m){const n=t.closest_point(E);N(n,E)<=100&&(I(P(255,120,120),4),C(n,E),k(P(255,120,120)),J(n,4))}}function v(){Yt(),Xt(),requestAnimationFrame(v)}v();
