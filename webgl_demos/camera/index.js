(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();const k=1e-6;function x(t){return t*Math.PI/180}const B=Math.sin,P=Math.cos;function X(t,n,e){return Math.min(Math.max(t,n),e)}const v=Float32Array;function E(t=0,n,e){const c=new v(3);return c[0]=t,c[1]=n??t,c[2]=e??t,c}function V(t,n){const e=new v(3);return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function D(t,n,e){return t[0]+=n[0]*e,t[1]+=n[1]*e,t[2]+=n[2]*e,t}function M(t){const n=t[0],e=t[1],c=t[2];let o=n*n+e*e+c*c;return o>0&&(o=1/Math.sqrt(o)),t[0]*=o,t[1]*=o,t[2]*=o,t}function O(t,n){const e=new v(3),c=t[0],o=t[1],r=t[2],s=n[0],a=n[1],y=n[2];return e[0]=o*y-r*a,e[1]=r*s-c*y,e[2]=c*a-o*s,e}function R(t=1,n=0,e=0,c=0,o=0,r,s=0,a=0,y=0,w=0,g,p=0,m=0,l=0,b=0,A){const d=new v(16);return d[0]=t,d[1]=n,d[2]=e,d[3]=c,d[4]=o,d[5]=t,d[6]=s,d[7]=a,d[8]=y,d[9]=w,d[10]=t,d[11]=p,d[12]=m,d[13]=l,d[14]=b,d[15]=t,d}function q(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function W(t,n,e,c,o){let r=1/Math.tan(n/2),s;return t[0]=r/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,o!==1/0?(s=1/(c-o),t[10]=(o+c)*s,t[14]=2*o*c*s):(t[10]=-1,t[14]=-2*c),t}function G(t,n,e,c){let o,r,s,a,y,w,g,p,m,l;const b=n[0],A=n[1],d=n[2],T=c[0],F=c[1],K=c[2],I=e[0],N=e[1],U=e[2];return Math.abs(b-I)<k&&Math.abs(A-N)<k&&Math.abs(d-U)<k?q(t):(g=b-I,p=A-N,m=d-U,l=1/Math.hypot(g,p,m),g*=l,p*=l,m*=l,o=F*m-K*p,r=K*g-T*m,s=T*p-F*g,l=Math.hypot(o,r,s),l?(l=1/l,o*=l,r*=l,s*=l):(o=0,r=0,s=0),a=p*s-m*r,y=m*o-g*s,w=g*r-p*o,l=Math.hypot(a,y,w),l?(l=1/l,a*=l,y*=l,w*=l):(a=0,y=0,w=0),t[0]=o,t[1]=a,t[2]=g,t[3]=0,t[4]=r,t[5]=y,t[6]=p,t[7]=0,t[8]=s,t[9]=w,t[10]=m,t[11]=0,t[12]=-(o*b+r*A+s*d),t[13]=-(a*b+y*A+w*d),t[14]=-(g*b+p*A+m*d),t[15]=1,t)}function $(){return{position:E(),forward:E(0,0,-1),right:E(1,0,0),up:E(0,1,0),world_up:E(0,1,0),projection:R(1),view:R(1),near:.01,far:1e3,fov:80,yaw:0,pitch:0,roll:0,movement_speed:.1,yaw_speed:.1,pitch_speed:.1,roll_speed:.1}}function z(t,n,e){D(t.position,t.forward,t.movement_speed*n*e)}function Y(t,n,e){D(t.position,t.right,t.movement_speed*n*e)}function J(t,n,e){t.yaw+=t.yaw_speed*n*e}function Q(t,n,e){t.pitch=X(t.pitch-t.pitch_speed*n*e,-89,89)}function Z(t){t.forward=M(E(B(x(t.yaw))*P(x(t.pitch)),B(x(t.pitch)),-P(x(t.yaw))*P(x(t.pitch)))),t.right=M(O(t.forward,t.world_up)),t.up=M(O(t.right,t.forward))}function tt(t,n,e){W(t.projection,x(t.fov),n/e,t.near,t.far)}function et(t){G(t.view,t.position,V(t.position,t.forward),t.up)}let f;function ot(t){return f=t.getContext("webgl2")}function nt(t,n){const e=f.createShader(t);if(!e)return null;if(f.shaderSource(e,n),f.compileShader(e),!f.getShaderParameter(e,f.COMPILE_STATUS)){const o=f.getShaderInfoLog(e);return console.error(o),f.deleteShader(e),null}return e}function it(t){const n=f.createProgram(),e=[];for(const o in t){const r=t[o],s=nt(parseInt(o),r);if(!s){for(const a of e)f.deleteShader(a);return null}e.push(s)}for(const o of e)f.attachShader(n,o);f.linkProgram(n);for(const o of e)f.detachShader(n,o),f.deleteShader(o);if(!f.getProgramParameter(n,f.LINK_STATUS)){const o=f.getProgramInfoLog(n);return console.error(o),f.deleteProgram(n),null}return n}const h={keys:{},buttons:{},kb_key_down:function(){},kb_key_up:function(){},m_move:function(){},m_button_down:function(){},m_button_up:function(){},m_wheel_scroll:function(){}};function rt(t){h.kb_key_down=t}function ct(t){h.m_move=t}function st(){addEventListener("keydown",function(t){h.keys[t.code]=0,h.kb_key_down({code:t.code,alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey})}),addEventListener("keyup",function(t){h.keys[t.code]=1,h.kb_key_up({code:t.code,alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey})}),addEventListener("mousemove",function(t){h.m_move({x:t.offsetX,y:t.offsetY,xd:t.movementX,yd:t.movementY,button:t.button,alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey,target:t.target})}),addEventListener("mousedown",function(t){h.buttons[t.button]=0,h.m_button_down({x:t.offsetX,y:t.offsetY,xd:t.movementX,yd:t.movementY,button:t.button,alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey,target:t.target})}),addEventListener("mouseup",function(t){h.buttons[t.button]=1,h.m_button_up({x:t.offsetX,y:t.offsetY,xd:t.movementX,yd:t.movementY,button:t.button,alt:t.altKey,ctrl:t.ctrlKey,shift:t.shiftKey,target:t.target})}),addEventListener("wheel",function(t){h.m_wheel_scroll({xd:Math.sign(t.deltaX),yd:Math.sign(t.deltaY)})})}function L(t){return h.keys[t]===0}document.body.style.margin="0";document.body.style.height="100vh";document.body.style.overflow="hidden";const u=document.createElement("canvas");u.width=document.body.clientWidth;u.height=document.body.clientHeight;document.body.append(u);addEventListener("resize",function(){u.width=document.body.clientWidth,u.height=document.body.clientHeight});const i=ot(u),S=it({[i.VERTEX_SHADER]:`#version 300 es
        layout(location = 0) in vec3 i_position;
        layout(location = 1) in vec2 i_tex_coord;
        out vec2 v_tex_coord;
        uniform mat4 u_projection;
        uniform mat4 u_view;
        uniform mat4 u_model;

        void main() {
            gl_Position = u_projection * u_view * u_model * vec4(i_position, 1.0);
            v_tex_coord = i_tex_coord;
        }
    `,[i.FRAGMENT_SHADER]:`#version 300 es
        precision highp float;
        in vec2 v_tex_coord;
        out vec4 o_frag_color;

        void main() {
            vec2 uv = v_tex_coord * 2.0 - 1.0;
            float edge_size = 0.8;
            float fade_width = 0.1;
            vec2 edge_dist = abs(uv) - edge_size;
            float max_dist = max(edge_dist.x, edge_dist.y);
            float edge_factor = smoothstep(0.0, fade_width, max_dist);
            vec3 edge_color = vec3(1.0, 0.0, 1.0);

            o_frag_color = vec4(edge_color, edge_factor);
        }
    `}),dt=i.getUniformLocation(S,"u_projection"),lt=i.getUniformLocation(S,"u_view"),ft=i.getUniformLocation(S,"u_model"),_t=[-1,1,1,0,0,-1,-1,1,0,1,1,-1,1,1,1,1,1,1,1,0,1,1,-1,0,0,1,-1,-1,0,1,-1,-1,-1,1,1,-1,1,-1,1,0,-1,1,-1,0,0,-1,-1,-1,0,1,-1,-1,1,1,1,-1,1,1,1,0,1,1,1,0,0,1,-1,1,0,1,1,-1,-1,1,1,1,1,-1,1,0,-1,1,-1,0,0,-1,1,1,0,1,1,1,1,1,1,1,1,-1,1,0,-1,-1,1,0,0,-1,-1,-1,0,1,1,-1,-1,1,1,1,-1,1,1,0],C=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],ut=C.length,j=i.createVertexArray();i.bindVertexArray(j);const at=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,at);i.bufferData(i.ARRAY_BUFFER,new Float32Array(_t),i.STATIC_DRAW);i.enableVertexAttribArray(0);i.vertexAttribPointer(0,3,i.FLOAT,!1,20,0);i.enableVertexAttribArray(1);i.vertexAttribPointer(1,2,i.FLOAT,!1,20,12);const ht=i.createBuffer();i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,ht);i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint32Array(C),i.STATIC_DRAW);const yt=R(1),_=$();_.position=E(5,5,5);_.yaw=-45;_.pitch=-45;st();ct(function(t){document.pointerLockElement===u&&(J(_,t.xd,1),Q(_,t.yd,1))});rt(function(t){t.code==="Backquote"&&(document.pointerLockElement===u?document.exitPointerLock():u.requestPointerLock())});function pt(){document.pointerLockElement===u&&(L("KeyA")&&Y(_,-1,1),L("KeyD")&&Y(_,1,1),L("KeyS")&&z(_,-1,1),L("KeyW")&&z(_,1,1)),Z(_),tt(_,u.width,u.height),et(_)}i.enable(i.DEPTH_TEST);i.enable(i.CULL_FACE);i.enable(i.BLEND);i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA);function mt(){i.viewport(0,0,u.width,u.height),i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.useProgram(S),i.uniformMatrix4fv(dt,!1,_.projection),i.uniformMatrix4fv(lt,!1,_.view),i.uniformMatrix4fv(ft,!1,yt),i.bindVertexArray(j),i.drawElements(i.TRIANGLES,ut,i.UNSIGNED_INT,0)}function H(){pt(),mt(),requestAnimationFrame(H)}H();
